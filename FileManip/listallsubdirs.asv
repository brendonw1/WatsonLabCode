function list=listallsubdirfiles(dirpath)unchecked{1}=dirpath;list={};while(~isempty(unchecked));    temp=listfiles(unchecked{1});    if ~isempty(temp);%if some directories in this directory        unchecked(end+1:end+length(temp))=temp;%tack folders on the end of the list of unchecked folders    end    list{end+1}=unchecked{1};    unchecked(1)=[];endlist(1)=[];%eliminate the dirpath directory itself